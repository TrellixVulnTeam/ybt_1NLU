Python(
    'flask-hello-app',
    sources='app.py',
    deps='//3rdparty:flask',
    runtime_params={
        'ports': '5555:5000',
    }
)

DockerImage(
    'flask-hello',
    start_from='//3rdparty:python3',
    deps=':flask-hello-app',
    docker_cmd=['python3', 'app.py'],
    image_tag=SCM.get_revision()
)

PythonApp(
    'flask-app',
    base_image='//3rdparty:python3',
    deps=':flask-hello-app',
    main='app.py',
    runtime_params={
        'container_name': 'my-flask-app',
    }
)
